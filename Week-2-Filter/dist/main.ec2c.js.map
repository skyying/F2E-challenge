{"version":3,"sources":["webpack:///./src/Components/PriceSelector.js","webpack:///./src/Components/SideViewPanel.js","webpack:///./src/Components/ZoneList.js","webpack:///./src/Components/ZoneCheckboxGroup.js","webpack:///./src/Components/TagListView.js","webpack:///./src/Components/TextWithIcon.js","webpack:///./src/Components/ResultItem.js","webpack:///./src/App.js","webpack:///./src/index.js"],"names":["Option","es_select","PriceSelector","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleChange","bind","react","value","onChange","_props","options","defaultValue","optionList","map","option","i","react_default","a","createElement","key","SideViewPanel_SideViewPanel","_ref","title","children","className","propTypes","prop_types_default","string","oneOfType","array","element","Components_SideViewPanel","Components_ZoneList","CheckboxGroup","es_checkbox","Group","ZoneCheckboxGruopFilter","ZoneCheckboxGroup_classCallCheck","ZoneCheckboxGroup_possibleConstructorReturn","state","checkedList","indeterminate","checkAll","onCheckAllChange","setState","length","e","list","target","checked","TagListView_TagListView","tagList","closable","tag","es_tag","_defineProperty","any","Components_TagListView","TextWithIcon_TextWithIcon","name","text","Components_TextWithIcon","ResultItem_InfoList","city","date","propsTypes","ResultItem_ResultItem","_ref2","_ref2$data","data","url","description","zone","openTime","ticketInfo","src","ResultItem_defineProperty","_ResultItem$propTypes","object","Components_ResultItem","Search","input","priceSelectorOption","API","AllResult","src_App","App","App_classCallCheck","App_possibleConstructorReturn","isLoaded","current","selectedZones","isFree","fetchData","handleChangeZone","handleChangePage","handlePriceChange","handleSearchText","handleSearchInputKeyup","page","_this2","fetch","then","response","json","result","records","push","Picture1","Name","Description","Zone","Opentime","Ticketinfo","catch","error","console","log","_this3","filterResults","results","filter","indexOf","obj","keys","len","search","isMatch","total","placeholder","onSearch","enterButton","disabled","Components_PriceSelector","ZoneCheckboxGroup","index","currentPageResult","pagination","defaultCurrent","react_dom_default","render","document","getElementById"],"mappings":"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","file":"main.ec2c.js","sourcesContent":["import React, {Component} from \"react\";\nimport {Select} from \"antd\";\n\nconst Option = Select.Option;\n\nexport default class PriceSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(value) {\n        this.props.onChange(value);\n        // console.log(\"current\", value);\n    }\n    render() {\n        const {options, defaultValue} = this.props;\n        const optionList = options.map((option, i) => (\n            <Option key={option+\"_\"+i} value={option}>{option}</Option>\n        ));\n        return (\n                <Select defaultValue={defaultValue} onChange={this.handleChange}>\n                    {optionList}\n                </Select>\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nconst SideViewPanel = ({title, children}) => (\n    <div className=\"sidebar-panel\">\n        <h4>{title}</h4>\n        <div className=\"sidebar-panel-content\">\n        {children}\n        </div>\n    </div>\n);\n\nSideViewPanel.propTypes = {\n    title: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.array, PropTypes.element]),\n};\n\nexport default SideViewPanel;\n","const ZoneList = [\n    \"三民區\",\n    \"內門區\",\n    \"美濃區\",\n    \"大樹區\",\n    \"小港區\",\n    \"六龜區\",\n    \"仁武區\",\n    \"左營區\",\n    \"田寮區\",\n    \"永安區\",\n    \"甲仙區\",\n    \"鼓山區\",\n    \"杉林區\",\n    \"那瑪夏\",\n    \"岡山區\",\n    \"高雄市\",\n    \"前鎮區\",\n    \"新興區\",\n    \"苓雅區\",\n    \"茂林區\",\n    \"茄萣區\",\n    \"梓官區\",\n    \"旗津區\",\n    \"桃源區\",\n    \"楠梓區\",\n    \"前金區\",\n    \"鳳山區\",\n    \"旗山區\",\n    \"橋頭區\",\n    \"燕巢區\",\n    \"彌陀區\",\n    \"鹽埕區\",\n    \"鳥松區\",\n    \"阿蓮區\",\n    \"大寮區\",\n    \"林園區\",\n    \"那瑪夏區\",\n    \"大社區\",\n    \"湖內區\",\n    \"路竹區\",\n    \"鳳山溪\",\n];\nexport default ZoneList;\n","import React, {Component} from \"react\";\nimport {Checkbox} from \"antd\";\nimport ZoneList from \"./ZoneList.js\";\n\nconst CheckboxGroup = Checkbox.Group;\n\nexport default class ZoneCheckboxGruopFilter extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            checkedList: ZoneList,\n            indeterminate: false,\n            checkAll: true,\n        };\n        this.onChange = this.onChange.bind( this );\n        this.onCheckAllChange = this.onCheckAllChange.bind( this );\n    }\n    onChange( checkedList ){\n        this.setState( {\n            checkedList,\n            indeterminate:\n                !!checkedList.length &&\n                checkedList.length < ZoneList.length,\n            checkAll: checkedList.length === ZoneList.length,\n        } );\n\n        this.props.onChange( checkedList );\n    }\n    onCheckAllChange( e ){\n        let list =e.target.checked ? ZoneList : [];\n        this.setState( {\n            checkedList: list,\n            indeterminate: false,\n            checkAll: e.target.checked,\n        } );\n        this.props.onChange( list );\n    }\n    render() {\n        return (\n            <div>\n                <div>\n                    <Checkbox\n                        indeterminate={this.state.indeterminate}\n                        onChange={this.onCheckAllChange}\n                        checked={this.state.checkAll}>\n                        Select All\n                    </Checkbox>\n                </div>\n                <br />\n                <CheckboxGroup\n                    options={ZoneList}\n                    value={this.state.checkedList}\n                    onChange={this.onChange}\n                />\n            </div>\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport {Tag} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst TagListView = ( {tagList, closable} ) => {\n    return (\n        ( tagList.length && (\n            <div>\n                {tagList.map( ( tag, i ) => (\n                    <Tag closable={closable} key={tag + \"_\" + i}>\n                        {\" \"}\n                        {tag}{\" \"}\n                    </Tag>\n                ) )}{\" \"}\n            </div>\n        ) ) ||\n        []\n    );\n};\n\nTagListView.propTypes = {\n    tagList: PropTypes.array,\n    tagList: PropTypes.any,\n\n};\n\nexport default TagListView;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../style/TextWithIcon.scss\";\n\n\nconst TextWithIcon = ({name, text}) => (\n    <span className=\"text-with-icon\">\n        <i className={\"fa \"+ name}/>\n        {text}\n    </span>\n);\n\nTextWithIcon.propTypes = {\n    name: PropTypes.string,\n    text: PropTypes.string,\n};\n\nexport default TextWithIcon;\n","import TagListView from \"./TagListView.js\";\nimport TextWithIcon from \"./TextWithIcon.js\";\nimport React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst InfoList = ({city, date}) => (\n    <div>\n        <TextWithIcon name=\"fa-map-marker\" text={city} />\n        <TextWithIcon name=\"fa-calendar\" text={date} />\n    </div>\n);\n\nInfoList.propsTypes ={\n    city: PropTypes.string,\n    date: PropTypes.string,\n}\n\n\nconst ResultItem = ({\n    data: {url, title, description, zone, openTime, ticketInfo},\n}) => (\n    <div className=\"result-panel-item\">\n        <div className=\"result-panel-left\">\n            <img src={url}/>\n        </div>\n        <div className=\"result-panel-right\">\n            <h4>{title}</h4>\n            <div className=\"description-wrapper\">\n                <div className=\"discription\">{description}</div>\n                <div className=\"ellipsis\">...</div>\n            </div>\n            <div>\n                <h5 className=\"zone-info\">{zone}</h5>\n                <InfoList city={openTime} date={ticketInfo} />\n            </div>\n        </div>\n    </div>\n);\n\nResultItem.propTypes = {\n    data: PropTypes.object,\n    url: PropTypes.string,\n    data: PropTypes.object,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    host: PropTypes.string,\n    tagList: PropTypes.array,\n    city: PropTypes.string,\n    date: PropTypes.string,\n};\n\nexport default ResultItem;\n","import React, {Component} from \"react\";\nimport {Input} from \"antd\";\nimport PriceSelector from \"./Components/PriceSelector.js\";\nimport SideViewPanel from \"./Components/SideViewPanel.js\";\nimport ZoneCheckboxGruopFilter from \"./Components/ZoneCheckboxGroup.js\";\nimport TagListView from \"./Components/TagListView.js\";\nimport ResultItem from \"./Components/ResultItem.js\";\nimport {Pagination} from \"antd\";\nimport ZoneList from \"./Components/ZoneList.js\";\nconst Search = Input.Search;\n\nconst priceSelectorOption = [\"All\", \"Free\"];\n\nconst API = {\n    url:\n        \"https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97&limit=300\",\n};\n\nconst AllResult = [];\nconst freeTag = [\"免費參觀\"];\nclass App extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            isLoaded: false,\n            current: 1,\n            selectedZones: ZoneList,\n            text: \"\",\n            isFree: false,\n        };\n        this.fetchData = this.fetchData.bind( this );\n        this.handleChangeZone = this.handleChangeZone.bind( this );\n        this.handleChangePage = this.handleChangePage.bind( this );\n        this.handlePriceChange = this.handlePriceChange.bind( this );\n        this.handleSearchText = this.handleSearchText.bind( this );\n        this.handleSearchInputKeyup = this.handleSearchInputKeyup.bind(this);\n        // this.handleKeyPress = this.handleKeyPress.bind( this );\n    }\n    componentDidMount() {\n        this.fetchData();\n    }\n    handleChangePage( page ) {\n        this.setState( {current: page} );\n    }\n    handleChangeZone( zone ) {\n        this.setState( {\n            selectedZones: zone,\n            current: 1,\n        } );\n    }\n    handleSearchText( text ) {\n        this.setState( {\n            text: text,\n        } );\n    }\n    // handleSearchInputKeyup( e ) {\n    //     console.log(e.target); \n    //     console.log(e.target.value); \n    // }\n    handlePriceChange( isFree ) {\n        this.setState( {\n            isFree: isFree === \"Free\",\n        } );\n    }\n    // handleKeyPress( e ) {\n    //     console.log(e);\n    //     if ( e.key !== \"Enter\" ) {\n    //         this.setState( {\n    //             text: this.state.text + e.key,\n    //         });\n    //     }\n    // }\n    // handleTextChange(e){\n    //     console.log(e);\n    // }\n    fetchData() {\n        fetch( API.url )\n            .then( response => response.json() )\n            .then( data => data.result.records )\n            .then( records =>\n                records.map( result => {\n                    AllResult.push( {\n                        url: result.Picture1,\n                        title: result.Name,\n                        description: result.Description,\n                        zone: result.Zone,\n                        openTime: result.Opentime,\n                        ticketInfo: result.Ticketinfo\n                            ? result.Ticketinfo\n                            : \"無相關資訊\",\n                        isFree: !!result.Ticketinfo.length\n                    } );\n                } ),\n            )\n            .then( records => {\n                this.setState( {isLoaded: true} );\n            } )\n            .catch( error => console.log( \"failed to parse: \", error ) );\n    }\n    render() {\n        if ( this.state.isLoaded ) {\n            // console.log( \"loaded\" );\n        }\n        const filterResults = () => {\n            let results = AllResult;\n            if ( this.state.isFree ) {\n                results = AllResult.filter( result => result.isFree );\n            }\n            results = results.filter(\n                result => this.state.selectedZones.indexOf( result.zone ) !== -1,\n            );\n            const isMatch = obj => {\n                let keys = Object.keys( obj );\n                let i = 0,\n                    len = keys.length;\n                for ( ; i < len; i++ ) {\n                    let key = keys[i];\n                    if ( key !== \"url\" ) {\n                        let item = obj[key];\n                        if ( item.search( this.state.text ) !== -1 ) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            };\n            return (\n                ( this.state.text &&\n                    results.filter( result => isMatch( result ) ) ) ||\n                results\n            );\n        };\n        let total = filterResults().length;\n        const currentPageResult = () => {\n            let results = filterResults();\n            return (\n                ( results.length &&\n                    results.filter(\n                        ( result, index ) =>\n                            index >= ( this.state.current - 1 ) * 10 &&\n                            index < this.state.current * 10 - 1,\n                    ) ) ||\n                []\n            );\n        };\n        const results = list =>\n            list.map( ( data, i ) => (\n                <ResultItem key={\"result.item\" + i} data={data} />\n            ) );\n        return (\n            <div className=\"main\">\n                <header className=\"header\">\n                    <div className=\"header-content\">\n                        <h1> Find Somewhere to Go </h1>\n                        <div className=\"header-search\">\n                            <Search\n                                placeholder=\"Go where?\"\n                                onSearch={this.handleSearchText}\n                                enterButton\n                                disabled={!this.state.isLoaded}\n                            />\n                        </div>\n                    </div>\n                </header>\n                <div className=\"main-content\">\n                    <div className=\"sidebar\">\n                        <SideViewPanel title={\"Price\"}>\n                            <PriceSelector\n                                onChange={this.handlePriceChange}\n                                options={priceSelectorOption}\n                                defaultValue={priceSelectorOption[0]}\n                            />\n                        </SideViewPanel>\n                        <SideViewPanel title={\"Zones\"}>\n                            <ZoneCheckboxGruopFilter\n                                onChange={this.handleChangeZone}\n                            />\n                        </SideViewPanel>\n                    </div>\n                    <div className=\"results\">\n                        <div className=\"result-title\">\n                            <h3\n                                className={\n                                    this.state.isLoaded ? \"\" : \"loading\"\n                                }>\n                                {this.state.isLoaded\n                                    ? `Expolre ${total} destinations`\n                                    : \"Loading\"}\n                            </h3>\n                            <TagListView\n                                tagList={this.state.text && [this.state.text]}\n                                closable={true}\n                            />\n                        </div>\n                        <div className=\"resultItem-panel\">\n                            {this.state.isLoaded\n                                ? results( currentPageResult() )\n                                : null}\n                        </div>\n                        {this.state.isLoaded ? (\n                            <Pagination\n                                defaultCurrent={this.current}\n                                onChange={this.handleChangePage}\n                                total={total}\n                            />\n                        ) : null}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// import \"bootstrap\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"font-awesome/scss/font-awesome.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport \"./style/antd.css\";\nimport \"./style/style.scss\";\nimport App from \"./App\";\n// for hot reload\n// if (module.hot) {\n//     module.hot.accept();\n// }\nReactDOM.render( <App />, document.getElementById( \"App\" ) );\n"],"sourceRoot":""}