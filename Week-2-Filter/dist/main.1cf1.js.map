{"version":3,"sources":["webpack:///./src/Components/PriceSelector.js","webpack:///./src/Components/SideViewPanel.js","webpack:///./src/Components/ZoneList.js","webpack:///./src/Components/ZoneCheckboxGroup.js","webpack:///./src/Components/TagListView.js","webpack:///./src/Components/TextWithIcon.js","webpack:///./src/Components/ResultItem.js","webpack:///./src/Components/SearchInput.js","webpack:///./src/App.js","webpack:///./src/index.js"],"names":["Option","es_select","PriceSelector","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleChange","bind","react","value","onChange","_props","options","defaultValue","optionList","map","option","i","react_default","a","createElement","key","SideViewPanel_SideViewPanel","_ref","title","children","className","propTypes","prop_types_default","string","oneOfType","array","element","Components_SideViewPanel","Components_ZoneList","CheckboxGroup","es_checkbox","Group","ZoneCheckboxGruopFilter","ZoneCheckboxGroup_classCallCheck","ZoneCheckboxGroup_possibleConstructorReturn","state","checkedList","indeterminate","checkAll","onCheckAllChange","setState","length","e","list","target","checked","TagListView_TagListView","tagList","closable","onCloseTag","tag","es_tag","afterClose","console","log","_defineProperty","any","Components_TagListView","TextWithIcon_TextWithIcon","name","text","Components_TextWithIcon","ResultItem_InfoList","city","date","propsTypes","ResultItem_ResultItem","_ref2","_ref2$data","data","url","description","zone","openTime","ticketInfo","src","ResultItem_defineProperty","_ResultItem$propTypes","object","Components_ResultItem","SearchInput_SearchInput","placeholder","onSearchTermChange","type","priceSelectorOption","API","AllResult","src_App","App","App_classCallCheck","App_possibleConstructorReturn","isLoaded","current","selectedZones","isFree","fetchData","handleChangeZone","handleChangePage","handlePriceChange","handleSearchText","clearSearchText","page","_this2","fetch","then","response","json","result","records","push","Picture1","Name","Description","Zone","Opentime","Ticketinfo","catch","error","_this3","filterResults","_state","results","filter","indexOf","obj","keys","len","search","isMatch","total","Components_PriceSelector","ZoneCheckboxGroup","index","currentPageResult","pagination","defaultCurrent","react_dom_default","render","document","getElementById"],"mappings":"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","file":"main.1cf1.js","sourcesContent":["import React, {Component} from \"react\";\nimport {Select} from \"antd\";\n\nconst Option = Select.Option;\n\nexport default class PriceSelector extends Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(value) {\n        this.props.onChange(value);\n        // console.log(\"current\", value);\n    }\n    render() {\n        const {options, defaultValue} = this.props;\n        const optionList = options.map((option, i) => (\n            <Option key={option+\"_\"+i} value={option}>{option}</Option>\n        ));\n        return (\n                <Select defaultValue={defaultValue} onChange={this.handleChange}>\n                    {optionList}\n                </Select>\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nconst SideViewPanel = ({title, children}) => (\n    <div className=\"sidebar-panel\">\n        <h4>{title}</h4>\n        <div className=\"sidebar-panel-content\">\n        {children}\n        </div>\n    </div>\n);\n\nSideViewPanel.propTypes = {\n    title: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.array, PropTypes.element]),\n};\n\nexport default SideViewPanel;\n","const ZoneList = [\n    \"三民區\",\n    \"內門區\",\n    \"美濃區\",\n    \"大樹區\",\n    \"小港區\",\n    \"六龜區\",\n    \"仁武區\",\n    \"左營區\",\n    \"田寮區\",\n    \"永安區\",\n    \"甲仙區\",\n    \"鼓山區\",\n    \"杉林區\",\n    \"那瑪夏\",\n    \"岡山區\",\n    \"高雄市\",\n    \"前鎮區\",\n    \"新興區\",\n    \"苓雅區\",\n    \"茂林區\",\n    \"茄萣區\",\n    \"梓官區\",\n    \"旗津區\",\n    \"桃源區\",\n    \"楠梓區\",\n    \"前金區\",\n    \"鳳山區\",\n    \"旗山區\",\n    \"橋頭區\",\n    \"燕巢區\",\n    \"彌陀區\",\n    \"鹽埕區\",\n    \"鳥松區\",\n    \"阿蓮區\",\n    \"大寮區\",\n    \"林園區\",\n    \"那瑪夏區\",\n    \"大社區\",\n    \"湖內區\",\n    \"路竹區\",\n    \"鳳山溪\",\n];\nexport default ZoneList;\n","import React, {Component} from \"react\";\nimport {Checkbox} from \"antd\";\nimport ZoneList from \"./ZoneList.js\";\n\nconst CheckboxGroup = Checkbox.Group;\n\nexport default class ZoneCheckboxGruopFilter extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            checkedList: ZoneList,\n            indeterminate: false,\n            checkAll: true,\n        };\n        this.onChange = this.onChange.bind( this );\n        this.onCheckAllChange = this.onCheckAllChange.bind( this );\n    }\n    onChange( checkedList ){\n        this.setState( {\n            checkedList,\n            indeterminate:\n                !!checkedList.length &&\n                checkedList.length < ZoneList.length,\n            checkAll: checkedList.length === ZoneList.length,\n        } );\n\n        this.props.onChange( checkedList );\n    }\n    onCheckAllChange( e ){\n        let list =e.target.checked ? ZoneList : [];\n        this.setState( {\n            checkedList: list,\n            indeterminate: false,\n            checkAll: e.target.checked,\n        } );\n        this.props.onChange( list );\n    }\n    render() {\n        return (\n            <div>\n                <div>\n                    <Checkbox\n                        indeterminate={this.state.indeterminate}\n                        onChange={this.onCheckAllChange}\n                        checked={this.state.checkAll}>\n                        Select All\n                    </Checkbox>\n                </div>\n                <br />\n                <CheckboxGroup\n                    options={ZoneList}\n                    value={this.state.checkedList}\n                    onChange={this.onChange}\n                />\n            </div>\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport {Tag} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nconst TagListView = ( {tagList, closable, onCloseTag } ) => {\n    const handleCloseTag=()=>{\n        onCloseTag();\n        console.log(\"comone\");\n    }\n    return (\n        ( tagList.length && (\n            <div>\n                {tagList.map( ( tag, i ) => (\n                    <Tag  afterClose={()=> handleCloseTag()} closable={closable} key={tag + \"_\" + i}>\n                        {tag}\n                    </Tag>\n                ) )}\n            </div>\n        ) ) ||\n        []\n    );\n};\n\nTagListView.propTypes = {\n    tagList: PropTypes.array,\n    tagList: PropTypes.any,\n};\n\nexport default TagListView;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../style/TextWithIcon.scss\";\n\n\nconst TextWithIcon = ({name, text}) => (\n    <span className=\"text-with-icon\">\n        <i className={\"fa \"+ name}/>\n        {text}\n    </span>\n);\n\nTextWithIcon.propTypes = {\n    name: PropTypes.string,\n    text: PropTypes.string,\n};\n\nexport default TextWithIcon;\n","import TagListView from \"./TagListView.js\";\nimport TextWithIcon from \"./TextWithIcon.js\";\nimport React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst InfoList = ({city, date}) => (\n    <div>\n        <TextWithIcon name=\"fa-map-marker\" text={city} />\n        <TextWithIcon name=\"fa-calendar\" text={date} />\n    </div>\n);\n\nInfoList.propsTypes ={\n    city: PropTypes.string,\n    date: PropTypes.string,\n}\n\n\nconst ResultItem = ({\n    data: {url, title, description, zone, openTime, ticketInfo},\n}) => (\n    <div className=\"result-panel-item\">\n        <div className=\"result-panel-left\">\n            <img src={url}/>\n        </div>\n        <div className=\"result-panel-right\">\n            <h4>{title}</h4>\n            <div className=\"description-wrapper\">\n                <div className=\"discription\">{description}</div>\n                <div className=\"ellipsis\">...</div>\n            </div>\n            <div>\n                <h5 className=\"zone-info\">{zone}</h5>\n                <InfoList city={openTime} date={ticketInfo} />\n            </div>\n        </div>\n    </div>\n);\n\nResultItem.propTypes = {\n    data: PropTypes.object,\n    url: PropTypes.string,\n    data: PropTypes.object,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    host: PropTypes.string,\n    tagList: PropTypes.array,\n    city: PropTypes.string,\n    date: PropTypes.string,\n};\n\nexport default ResultItem;\n","import React, {Component} from \"react\";\n\nexport const SearchInput = ( {text, placeholder, onSearchTermChange} ) => {\n    return (\n        <span className=\"ant-input-search ant-input-affix-wrapper\">\n            <input\n                value={text}\n                placeholder={placeholder}\n                className=\"ant-input\"\n                onChange={e => onSearchTermChange( e.target.value )}\n                type=\"text\"\n            />\n        </span>\n    );\n};\n","import React, {Component} from \"react\";\nimport {Input, Pagination} from \"antd\";\nimport PriceSelector from \"./Components/PriceSelector.js\";\nimport SideViewPanel from \"./Components/SideViewPanel.js\";\nimport ZoneCheckboxGruopFilter from \"./Components/ZoneCheckboxGroup.js\";\nimport TagListView from \"./Components/TagListView.js\";\nimport ResultItem from \"./Components/ResultItem.js\";\nimport ZoneList from \"./Components/ZoneList.js\";\nimport {SearchInput} from \"./Components/SearchInput.js\";\n\nconst priceSelectorOption = [\"All\", \"Free\"];\nconst API = {\n    url:\n        \"https://data.kcg.gov.tw/api/action/datastore_search?resource_id=92290ee5-6e61-456f-80c0-249eae2fcc97&limit=300\",\n};\nconst AllResult = [];\n\nclass App extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            isLoaded: false,\n            current: 1, // current page\n            selectedZones: ZoneList,\n            text: \"\",\n            isFree: false,\n        };\n        this.fetchData = this.fetchData.bind( this );\n        this.handleChangeZone = this.handleChangeZone.bind( this );\n        this.handleChangePage = this.handleChangePage.bind( this );\n        this.handlePriceChange = this.handlePriceChange.bind( this );\n        this.handleSearchText = this.handleSearchText.bind( this );\n        this.clearSearchText = this.clearSearchText.bind( this );\n    }\n    componentDidMount() {\n        this.fetchData();\n    }\n    handleChangePage( page ) {\n        this.setState( {current: page} );\n    }\n    handleChangeZone( zone ) {\n        this.setState( {\n            selectedZones: zone,\n            current: 1,\n        } );\n    }\n    handleSearchText( text ) {\n        this.setState( {\n            text: text,\n        } );\n    }\n    handlePriceChange( isFree ) {\n        this.setState( {\n            isFree: isFree === \"Free\",\n        } );\n    }\n    clearSearchText() {\n        this.setState( {\n            text: \"\",\n        } );\n    }\n    fetchData() {\n        fetch( API.url )\n            .then( response => response.json() )\n            .then( data => data.result.records )\n            .then( records =>\n                records.map( result => {\n                    AllResult.push( {\n                        url: result.Picture1,\n                        title: result.Name,\n                        description: result.Description,\n                        zone: result.Zone,\n                        openTime: result.Opentime,\n                        ticketInfo: result.Ticketinfo\n                            ? result.Ticketinfo\n                            : \"無相關資訊\",\n                        isFree: !!result.Ticketinfo.length,\n                    } );\n                } ),\n            )\n            .then( records => {\n                this.setState( {isLoaded: true} );\n            } )\n            .catch( error => console.log( \"Failed to parse: \", error ) );\n    }\n    render() {\n        const filterResults = () => {\n            let {selectedZones, text, isFree} = this.state;\n\n            let results = AllResult;\n\n            if ( isFree ) {\n                results = AllResult.filter( result => result.isFree );\n            }\n            results = results.filter(\n                result => selectedZones.indexOf( result.zone ) !== -1,\n            );\n            const isMatch = obj => {\n                let keys = Object.keys( obj );\n                let i = 0,\n                    len = keys.length;\n                for ( ; i < len; i++ ) {\n                    let key = keys[i];\n                    if ( typeof obj[key] === \"string\" ) {\n                        let item = obj[key];\n                        if ( item.search( text ) !== -1 ) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            };\n            return (\n                ( text && results.filter( result => isMatch( result ) ) ) || results\n            );\n        };\n\n        let total = filterResults().length;\n\n        const currentPageResult = () => {\n            let results = filterResults();\n            return (\n                ( results.length &&\n                    results.filter(\n                        ( result, index ) =>\n                            index >= ( this.state.current - 1 ) * 10 &&\n                            index < this.state.current * 10 - 1,\n                    ) ) ||\n                []\n            );\n        };\n\n        const results = list =>\n            list.map( ( data, i ) => (\n                <ResultItem key={\"result.item\" + i} data={data} />\n            ) );\n\n        return (\n            <div className=\"main\">\n                <header className=\"header\">\n                    <div className=\"header-content\">\n                        <h1> Find Somewhere to Go </h1>\n                        <div className=\"header-search\">\n                            <SearchInput\n                                text={this.state.text}\n                                placeholder=\"Go where?\"\n                                onSearchTermChange={this.handleSearchText}\n                            />\n                        </div>\n                    </div>\n                </header>\n                <div className=\"main-content\">\n                    <div className=\"sidebar\">\n                        <SideViewPanel title={\"Price\"}>\n                            <PriceSelector\n                                onChange={this.handlePriceChange}\n                                options={priceSelectorOption}\n                                defaultValue={priceSelectorOption[0]}\n                            />\n                        </SideViewPanel>\n                        <SideViewPanel title={\"Zones\"}>\n                            <ZoneCheckboxGruopFilter\n                                onChange={this.handleChangeZone}\n                            />\n                        </SideViewPanel>\n                    </div>\n                    <div className=\"results\">\n                        <div className=\"result-title\">\n                            <h3\n                                className={\n                                    this.state.isLoaded ? \"\" : \"loading\"\n                                }>\n                                {this.state.isLoaded\n                                    ? `Expolre ${total} destinations`\n                                    : \"Loading\"}\n                            </h3>\n                            <TagListView\n                                tagList={this.state.text && [this.state.text]}\n                                closable={true}\n                                onCloseTag={this.clearSearchText}\n                            />\n                        </div>\n                        <div className=\"resultItem-panel\">\n                            {this.state.isLoaded\n                                ? results( currentPageResult() )\n                                : null}\n                        </div>\n                        {this.state.isLoaded ? (\n                            <Pagination\n                                defaultCurrent={this.current}\n                                onChange={this.handleChangePage}\n                                total={total}\n                            />\n                        ) : null}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// import \"bootstrap\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"font-awesome/scss/font-awesome.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport \"./style/antd.css\";\nimport \"./style/style.scss\";\nimport App from \"./App\";\n// for hot reload\n// if (module.hot) {\n//     module.hot.accept();\n// }\nReactDOM.render( <App />, document.getElementById( \"App\" ) );\n"],"sourceRoot":""}